#!/usr/bin/env ruby

unless name = ARGV.shift
  puts "Usage: #{File.basename($0)} gem"
  exit 1
end

require 'rubygems'
dep = Gem::Dependency.new(/^#{name}$/i, Gem::Requirement.default)
spec_list = Gem.source_index.search(dep)
unless spec_list and not spec_list.empty?
     puts "Unable to find gem '#{name}'" 
    exit 1
end

spec = spec_list.sort_by { |x| x.version }.last

puts spec.full_gem_path + "/"
